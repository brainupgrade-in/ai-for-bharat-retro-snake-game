<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment Check - Retro Snake AI</title>
    <style>
        body {
            font-family: 'MS Sans Serif', sans-serif;
            background: #008080;
            color: white;
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #C0C0C0;
            color: black;
            padding: 20px;
            border: 2px outset #C0C0C0;
        }

        .check-item {
            margin: 10px 0;
            padding: 10px;
            border: 1px inset #C0C0C0;
        }

        .success {
            background: #90EE90;
        }

        .error {
            background: #FFB6C1;
        }

        .warning {
            background: #FFFFE0;
        }

        button {
            background: #C0C0C0;
            border: 2px outset #C0C0C0;
            padding: 8px 16px;
            margin: 5px;
            cursor: pointer;
        }

        button:active {
            border: 2px inset #C0C0C0;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üêç Retro Snake AI - Deployment Check</h1>
        <p>This page verifies that all components are properly deployed.</p>

        <div id="checks">
            <div class="check-item" id="htmlCheck">
                ‚è≥ Checking HTML structure...
            </div>
            <div class="check-item" id="cssCheck">
                ‚è≥ Checking CSS files...
            </div>
            <div class="check-item" id="jsCheck">
                ‚è≥ Checking JavaScript modules...
            </div>
            <div class="check-item" id="gameCheck">
                ‚è≥ Checking game initialization...
            </div>
            <div class="check-item" id="aiCheck">
                ‚è≥ Checking AI service...
            </div>
        </div>

        <div style="margin-top: 20px;">
            <button onclick="runChecks()">üîÑ Run Checks</button>
            <button onclick="window.location.href='index.html'">üéÆ Launch Game</button>
        </div>

        <div id="results" style="margin-top: 20px;"></div>
    </div>

    <script>
        async function runChecks() {
            const results = [];

            // Check HTML
            try {
                const response = await fetch('index.html');
                if (response.ok) {
                    document.getElementById('htmlCheck').className = 'check-item success';
                    document.getElementById('htmlCheck').innerHTML = '‚úÖ HTML file loaded successfully';
                    results.push('‚úÖ HTML: OK');
                } else {
                    throw new Error('HTML not found');
                }
            } catch (error) {
                document.getElementById('htmlCheck').className = 'check-item error';
                document.getElementById('htmlCheck').innerHTML = '‚ùå HTML file not found';
                results.push('‚ùå HTML: FAILED');
            }

            // Check CSS
            try {
                const win95Response = await fetch('css/win95.css');
                const gameResponse = await fetch('css/game.css');
                if (win95Response.ok && gameResponse.ok) {
                    document.getElementById('cssCheck').className = 'check-item success';
                    document.getElementById('cssCheck').innerHTML = '‚úÖ CSS files loaded successfully';
                    results.push('‚úÖ CSS: OK');
                } else {
                    throw new Error('CSS files not found');
                }
            } catch (error) {
                document.getElementById('cssCheck').className = 'check-item error';
                document.getElementById('cssCheck').innerHTML = '‚ùå CSS files not found';
                results.push('‚ùå CSS: FAILED');
            }

            // Check JavaScript
            try {
                const mainResponse = await fetch('js/main.js');
                const gameResponse = await fetch('js/game.js');
                const aiResponse = await fetch('js/ai-service.js');
                if (mainResponse.ok && gameResponse.ok && aiResponse.ok) {
                    document.getElementById('jsCheck').className = 'check-item success';
                    document.getElementById('jsCheck').innerHTML = '‚úÖ JavaScript modules loaded successfully';
                    results.push('‚úÖ JavaScript: OK');
                } else {
                    throw new Error('JavaScript files not found');
                }
            } catch (error) {
                document.getElementById('jsCheck').className = 'check-item error';
                document.getElementById('jsCheck').innerHTML = '‚ùå JavaScript files not found';
                results.push('‚ùå JavaScript: FAILED');
            }

            // Check game initialization
            try {
                // Try to load the main module
                const module = await import('./js/config.js');
                if (module.CONFIG) {
                    document.getElementById('gameCheck').className = 'check-item success';
                    document.getElementById('gameCheck').innerHTML = '‚úÖ Game configuration loaded successfully';
                    results.push('‚úÖ Game Config: OK');
                } else {
                    throw new Error('Game config not found');
                }
            } catch (error) {
                document.getElementById('gameCheck').className = 'check-item warning';
                document.getElementById('gameCheck').innerHTML = '‚ö†Ô∏è Game config check failed (may work in game context)';
                results.push('‚ö†Ô∏è Game Config: WARNING');
            }

            // Check AI service
            try {
                const aiModule = await import('./js/ai-service.js');
                if (aiModule.AIService) {
                    document.getElementById('aiCheck').className = 'check-item success';
                    document.getElementById('aiCheck').innerHTML = '‚úÖ AI service loaded successfully';
                    results.push('‚úÖ AI Service: OK');
                } else {
                    throw new Error('AI service not found');
                }
            } catch (error) {
                document.getElementById('aiCheck').className = 'check-item warning';
                document.getElementById('aiCheck').innerHTML = '‚ö†Ô∏è AI service check failed (may work in game context)';
                results.push('‚ö†Ô∏è AI Service: WARNING');
            }

            // Display summary
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <h3>üìä Deployment Summary</h3>
                <pre>${results.join('\n')}</pre>
                <p><strong>Status:</strong> ${results.filter(r => r.includes('‚ùå')).length === 0 ?
                    'üü¢ Ready for production!' :
                    'üî¥ Issues detected - check failed items'}</p>
            `;
        }

        // Run checks on page load
        window.addEventListener('load', runChecks);
    </script>
</body>

</html>